import{h as de,t as o,g as K,i as me,G as n,j as e,T as ue,r as be,k as pe,m as q,n as xe,a as ge,b as he,e as fe,f as ve,u as je}from"./file-utils.DX0U2p6k.js";import{r as d}from"./index.BIjdzmyy.js";import{j as y,C as F}from"./custom-select.DAMpitIQ.js";const R=[{label:"Github",value:"ri:github-line"},{label:"Twitter (X)",value:"ri:twitter-line"},{label:"Bilibili",value:"ri:bilibili-line"},{label:"Email",value:"ri:mail-line"},{label:"Telegram",value:"ri:telegram-line"},{label:"QQ",value:"ri:qq-line"},{label:"WeChat",value:"ri:wechat-line"},{label:"Douyin",value:"ri:douyin-line"},{label:"RSS",value:"ri:rss-fill"},{label:"Weibo",value:"ri:weibo-line"},{label:"Zhihu",value:"ri:zhihu-line"},{label:"Other",value:"ri:link"}],Ne=[{value:"giscus",label:"Giscus"},{value:"waline",label:"Waline"}];function Ie(){const[s,a]=d.useState(""),[l,t]=d.useState(!1),[r,i]=d.useState(!1),[c,m]=d.useState("visual"),[u,b]=d.useState(null),{isAuth:x,setPrivateKey:p}=de(),g=d.useRef(null),[h,f]=d.useState(!1),[j,v]=d.useState(""),N=d.useRef(null),[w,C]=d.useState({});d.useEffect((()=>{k()}),[x]),d.useEffect((()=>{if(s&&"visual"===c)try{const e=y.load(s);b(e)}catch(e){console.error(e),o.error("YAML è§£æå¤±è´¥ï¼Œå·²åˆ‡æ¢å›ä»£ç æ¨¡å¼"),m("code")}}),[s,c]);const k=async()=>{try{let e;t(!0);try{e=await K()}catch{console.log("Public access mode")}const s=await me(e,n.OWNER,n.REPO,"ryuchan.config.yaml",n.BRANCH);if(s){a(s);try{b(y.load(s))}catch(e){console.error(e)}}}catch(e){o.error("åŠ è½½é…ç½®å¤±è´¥: "+e.message)}finally{t(!1)}},O=(e,s)=>{if(!u)return;const l=JSON.parse(JSON.stringify(u)),t=e.split(".");let r=l;for(let e=0;e<t.length-1;e++)r[t[e]]||(r[t[e]]={}),r=r[t[e]];r[t[t.length-1]]=s,b(l),a(y.dump(l))},I=(e,s,a)=>{const l=[...u?.user?.sidebar?.social||[]];if(l[e]||(l[e]={}),l[e][s]=a,"svg"===s){const s=R.find((e=>e.value===a));s&&(l[e].title=s.label,l[e].ariaLabel=s.label)}O("user.sidebar.social",l)},E=(e,s)=>{const a=[...u?.user?.sidebar?.social||[]];"up"===s&&e>0?[a[e],a[e-1]]=[a[e-1],a[e]]:"down"===s&&e<a.length-1&&([a[e],a[e+1]]=[a[e+1],a[e]]),O("user.sidebar.social",a)},S=e=>{v(e),N.current?.click()},L=()=>{g.current?.click()};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto my-12 font-sans",children:[e.jsx(ue,{richColors:!0,position:"top-center",toastOptions:{className:"shadow-xl rounded-2xl border-2 border-primary/20 backdrop-blur-sm",style:{fontSize:"1rem",padding:"14px 20px",zIndex:"999999",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease-in-out"},classNames:{title:"text-lg font-semibold tracking-tight",description:"text-sm font-medium opacity-90",error:"bg-error/95 text-error-content border-error/30",success:"bg-success/95 text-success-content border-success/30",warning:"bg-warning/95 text-warning-content border-warning/30",info:"bg-info/95 text-info-content border-info/30"},duration:5e3,closeButton:!1}}),e.jsx("input",{ref:g,type:"file",accept:".pem",className:"hidden",onChange:async e=>{const s=e.target.files?.[0];s&&await(async e=>{try{const s=await be(e);await p(s),o.success("å¯†é’¥å¯¼å…¥æˆåŠŸ")}catch{o.error("å¯†é’¥å¯¼å…¥å¤±è´¥")}})(s),e.currentTarget&&(e.currentTarget.value="")}}),e.jsx("input",{ref:N,type:"file",accept:"image/*",className:"hidden",onChange:e=>{const s=e.target.files?.[0];if(!s||!j)return;const a=URL.createObjectURL(s);C((e=>({...e,[j]:{file:s,previewUrl:a}}))),O(j,a),v(""),N.current&&(N.current.value=""),o.info("å›¾ç‰‡å·²ç¼“å­˜ï¼Œä¿å­˜é…ç½®æ—¶ä¼šç»Ÿä¸€ä¸Šä¼ ")}}),e.jsxs("div",{className:"rounded-3xl bg-base-100 shadow-2xl flex flex-col overflow-hidden border border-base-200 min-h-[600px]",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between px-8 py-5 border-b border-base-200 bg-base-100/50 backdrop-blur-sm sticky top-0 z-10 space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1 h-6 bg-primary rounded-full"}),e.jsx("h2",{className:"text-xl font-bold text-primary",children:"ç«™ç‚¹é…ç½®"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"join bg-base-200 p-1 rounded-lg",children:[e.jsx("button",{className:"join-item btn btn-sm border-none "+("visual"===c?"btn-primary shadow-md":"btn-ghost text-base-content/60"),onClick:()=>m("visual"),disabled:!1,children:"å¯è§†åŒ–"}),e.jsx("button",{className:"join-item btn btn-sm border-none "+("code"===c?"btn-primary shadow-md":"btn-ghost text-base-content/60"),onClick:()=>m("code"),disabled:!1,children:"ä»£ç "})]}),!x&&e.jsxs("button",{onClick:L,className:"btn btn-sm btn-ghost bg-base-200 gap-1",title:"å¯¼å…¥å¯†é’¥ä»¥è§£é”ä¿å­˜åŠŸèƒ½",children:[e.jsx("span",{className:"text-lg",children:"ğŸ”‘"}),e.jsx("span",{className:"hidden sm:inline",children:"éªŒè¯"})]}),e.jsx("button",{onClick:async()=>{if(window.confirm("ç¡®å®šä¿å­˜é…ç½®å—ï¼Ÿè¿™å°†ç›´æ¥æ¨é€åˆ° GitHub ä»“åº“ã€‚"))try{i(!0);const e=await K();if(!e)throw new Error("æœªæˆæƒ");const l=o.loading("ğŸš€ æ­£åœ¨åˆå§‹åŒ–ä¿å­˜...");let t=u?JSON.parse(JSON.stringify(u)):null;const r=[];if(Object.keys(w).length>0){const s=Object.keys(w).length;o.loading(`ğŸ“¤ å‡†å¤‡ä¸Šä¼  ${s} å¼ å›¾ç‰‡...`,{id:l});let a=1;for(const[i,{file:c}]of Object.entries(w)){o.loading(`ğŸ“¸ æ­£åœ¨å¤„ç†å›¾ç‰‡ (${a}/${s}): ${c.name}...`,{id:l});const d=await pe(c),m=c.name.split(".").pop()||"png",u=`${Date.now()}-${Math.random().toString(36).slice(2,8)}.${m}`,b=`public/images/uploads/${u}`,{sha:x}=await q(e,n.OWNER,n.REPO,d,"base64");r.push({path:b,mode:"100644",type:"blob",sha:x});const p=`/images/uploads/${u}`;if(t){const e=i.split(".");let s=t;for(let a=0;a<e.length-1;a++)s[e[a]]||(s[e[a]]={}),s=s[e[a]];s[e[e.length-1]]=p}a++}C({})}let d=s;"visual"===c&&t&&(d=y.dump(t),b(t),a(d));const m=xe(d);o.loading("æ­£åœ¨åˆ›å»ºé…ç½®æ–‡ä»¶ Blob...",{id:l});const{sha:x}=await q(e,n.OWNER,n.REPO,m,"base64");r.push({path:"ryuchan.config.yaml",mode:"100644",type:"blob",sha:x}),o.loading("æ­£åœ¨è·å–åˆ†æ”¯ä¿¡æ¯...",{id:l});const p=`heads/${n.BRANCH}`,g=(await ge(e,n.OWNER,n.REPO,p)).sha,h=(await he(e,n.OWNER,n.REPO,g)).tree.sha;o.loading("ğŸŒ³ æ­£åœ¨æ„å»ºæ–‡ä»¶æ ‘...",{id:l});const{sha:f}=await fe(e,n.OWNER,n.REPO,r,h);o.loading("ğŸ’¾ æ­£åœ¨åˆ›å»ºæäº¤...",{id:l});const{sha:j}=await ve(e,n.OWNER,n.REPO,"chore(config): update site configuration",f,[g]);o.loading("ğŸ”„ æ­£åœ¨åŒæ­¥è¿œç¨‹åˆ†æ”¯...",{id:l}),await je(e,n.OWNER,n.REPO,p,j),o.success("ğŸ‰ é…ç½®æ›´æ–°æˆåŠŸï¼",{id:l,description:"æ›´æ”¹å·²æ¨é€åˆ°ä»“åº“ï¼ŒGitHub Actions å°†ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚"})}catch(e){console.error(e),o.error("âŒ ä¿å­˜é…ç½®å¤±è´¥",{description:e.message})}finally{i(!1)}},disabled:r||l||!x,className:"btn btn-sm btn-primary px-6 shadow-lg shadow-primary/20",children:r?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"})]})]}),l?e.jsx("div",{className:"flex h-64 items-center justify-center text-base-content/50",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}):x||s?e.jsx("div",{className:"flex-1 overflow-y-auto bg-base-200/30 p-4 md:p-8",children:"code"===c?e.jsx("textarea",{className:"h-[600px] w-full rounded-xl border border-base-300 bg-base-100 p-6 font-mono text-sm focus:border-primary focus:outline-none resize-none shadow-inner",value:s,onChange:e=>a(e.target.value),spellCheck:!1}):e.jsxs("div",{className:"max-w-3xl mx-auto space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-12",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs font-medium text-base-content/70 ml-1",children:"ç½‘ç«™å›¾æ ‡"}),e.jsxs("div",{className:"group relative flex justify-center p-4 md:p-8 bg-base-100 rounded-2xl md:rounded-3xl border border-base-200 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 rounded-xl md:rounded-2xl overflow-hidden bg-base-200 ring-4 ring-base-100 shadow-xl group-hover:scale-105 transition-transform duration-300",children:e.jsx("img",{src:u?.site?.favicon||"/favicon.ico",alt:"Favicon",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-base-100/50 backdrop-blur-sm rounded-2xl md:rounded-3xl cursor-pointer",onClick:()=>S("site.favicon"),children:e.jsx("button",{className:"btn btn-circle btn-primary shadow-lg scale-90 group-hover:scale-100 transition-transform",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})})}),h&&"site.favicon"===j&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-base-100/80 rounded-2xl md:rounded-3xl z-10",children:e.jsx("span",{className:"loading loading-spinner loading-md text-primary"})})]}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full text-center text-xs rounded-full bg-base-100 shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.site?.favicon||"",onChange:e=>O("site.favicon",e.target.value),placeholder:"å›¾æ ‡ URL"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-xs font-medium text-base-content/70 ml-1",children:"ç”¨æˆ·å¤´åƒ"}),e.jsxs("div",{className:"group relative flex justify-center p-4 md:p-8 bg-base-100 rounded-2xl md:rounded-3xl border border-base-200 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 rounded-xl md:rounded-2xl overflow-hidden bg-base-200 ring-4 ring-base-100 shadow-xl group-hover:scale-105 transition-transform duration-300",children:e.jsx("img",{src:u?.user?.avatar||"/avatar.png",alt:"Avatar",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-base-100/50 backdrop-blur-sm rounded-2xl md:rounded-3xl cursor-pointer",onClick:()=>S("user.avatar"),children:e.jsx("button",{className:"btn btn-circle btn-primary shadow-lg scale-90 group-hover:scale-100 transition-transform",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})})}),h&&"user.avatar"===j&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-base-100/80 rounded-2xl md:rounded-3xl z-10",children:e.jsx("span",{className:"loading loading-spinner loading-md text-primary"})})]}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full text-center text-xs rounded-full bg-base-100 shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.user?.avatar||"",onChange:e=>O("user.avatar",e.target.value),placeholder:"å¤´åƒ URL"})]})]}),e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-6 rounded-2xl space-y-6",children:[e.jsx("h3",{className:"font-bold text-lg text-primary border-b border-base-200 pb-2",children:"ç”¨æˆ·ä¿¡æ¯"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"ç”¨æˆ·åç§°"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.user?.name||"",onChange:e=>O("user.name",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"ä¸ªäººä¸»é¡µ"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.user?.site||"",onChange:e=>O("user.site",e.target.value)})]})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"ä¸ªäººæè¿°"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Cialloï½(âˆ ãƒ»Ï‰<)âŒ’â˜…",value:u?.user?.description||"",onChange:e=>O("user.description",e.target.value)})]})]}),e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-6 rounded-2xl space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"ç«™ç‚¹æ ‡é¢˜"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.site?.title||"",onChange:e=>O("site.title",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"æµè§ˆå™¨æ ‡ç­¾"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.site?.tab||"",onChange:e=>O("site.tab",e.target.value)})]})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"ç«™ç‚¹æè¿°"})}),e.jsx("textarea",{className:"textarea textarea-bordered w-full h-24 bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all resize-none",value:u?.site?.description||"",onChange:e=>O("site.description",e.target.value)})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-base-content/70",children:"å¤‡æ¡ˆä¿¡æ¯"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"ä¾‹å¦‚ï¼šäº¬ICPå¤‡12345678å·",value:u?.site?.icp||"",onChange:e=>O("site.icp",e.target.value)}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"https://beian.miit.gov.cn/",value:u?.site?.icp_link||"",onChange:e=>O("site.icp_link",e.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm font-medium text-base-content/70 ml-1",children:"ç¤¾äº¤æŒ‰é’®"}),e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-2 rounded-2xl",children:[e.jsx("div",{className:"space-y-2 p-2",children:(u?.user?.sidebar?.social||[]).map(((s,a)=>e.jsxs("div",{className:"flex items-center gap-3 group p-2 hover:bg-base-200/50 rounded-xl transition-colors",children:[e.jsx("div",{className:"w-32",children:e.jsx(F,{value:R.find((e=>e.value===s.svg))?.value||"ri:link",onChange:e=>I(a,"svg",e),options:R})}),e.jsx("input",{type:"text",className:"input input-sm input-bordered flex-1 bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"é“¾æ¥åœ°å€",value:s.href,onChange:e=>I(a,"href",e.target.value)}),e.jsx("div",{className:"join bg-base-200 rounded-lg p-1",children:e.jsx("div",{className:"w-8 h-6 flex items-center justify-center text-xs font-mono text-base-content/50",children:a+1})}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>E(a,"up"),className:"btn btn-xs btn-ghost btn-square",disabled:0===a,children:"â†‘"}),e.jsx("button",{onClick:()=>E(a,"down"),className:"btn btn-xs btn-ghost btn-square",disabled:a===(u?.user?.sidebar?.social?.length||0)-1,children:"â†“"}),e.jsx("button",{onClick:()=>(e=>{const s=[...u?.user?.sidebar?.social||[]];s.splice(e,1),O("user.sidebar.social",s)})(a),className:"btn btn-xs btn-ghost btn-square text-error bg-error/10 hover:bg-error hover:text-white",children:"âœ•"})]})]},a)))}),e.jsx("div",{className:"p-2",children:e.jsx("button",{onClick:()=>{const e=[...u?.user?.sidebar?.social||[]];e.push({href:"",title:"New Link",ariaLabel:"New Link",svg:"ri:link"}),O("user.sidebar.social",e)},className:"btn btn-outline btn-sm w-full border-dashed border-2 text-base-content/50 hover:text-primary hover:border-primary hover:bg-primary/5",children:"+ æ·»åŠ æŒ‰é’®"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-2 pb-2 border-b border-base-200",children:e.jsx("h3",{className:"font-bold text-lg text-primary",children:"åŠŸèƒ½é…ç½®"})}),e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-6 rounded-2xl space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"badge badge-primary badge-outline",children:"Bilibili"}),e.jsx("span",{className:"text-sm font-medium",children:"è¿½ç•ªåˆ—è¡¨"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Bilibili UID"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"ä¾‹å¦‚ï¼š1536411565",value:u?.anime?.bilibili?.uid||u?.site?.bilibili?.uid||"",onChange:e=>O("anime.bilibili.uid",e.target.value)})]})})]}),e.jsx("div",{className:"divider my-0"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"badge badge-secondary badge-outline",children:"TMDB"}),e.jsx("span",{className:"text-sm font-medium",children:"ç”µå½±/å‰§é›†"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"API Key"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.anime?.tmdb?.apiKey||u?.site?.tmdb?.apiKey||"",onChange:e=>O("anime.tmdb.apiKey",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"List ID"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all",value:u?.anime?.tmdb?.listId||u?.site?.tmdb?.listId||"",onChange:e=>O("anime.tmdb.listId",e.target.value)})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-base-200",children:[e.jsx("h3",{className:"font-bold text-lg text-primary",children:"è¯„è®ºç³»ç»Ÿ"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-base-content/60",children:"å¯ç”¨"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-sm toggle-primary",checked:u?.comments?.enable||!1,onChange:e=>O("comments.enable",e.target.checked)})]})]}),u?.comments?.enable&&e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-6 rounded-2xl space-y-4",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"è¯„è®ºæ’ä»¶"})}),e.jsx(F,{value:u?.comments?.type||"giscus",onChange:e=>O("comments.type",e),options:Ne})]}),"giscus"===u?.comments?.type&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Repo"})}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"owner/repo",value:u?.comments?.giscus?.repo||"",onChange:e=>O("comments.giscus.repo",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Repo ID"})}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.comments?.giscus?.repoId||"",onChange:e=>O("comments.giscus.repoId",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Category"})}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.comments?.giscus?.category||"",onChange:e=>O("comments.giscus.category",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Category ID"})}),e.jsx("input",{type:"text",className:"input input-sm input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.comments?.giscus?.categoryId||"",onChange:e=>O("comments.giscus.categoryId",e.target.value)})]})]}),"waline"===u?.comments?.type&&e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Server URL"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"https://your-waline-server.vercel.app",value:u?.comments?.waline?.serverURL||"",onChange:e=>O("comments.waline.serverURL",e.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-base-200",children:[e.jsx("h3",{className:"font-bold text-lg text-primary",children:"Umami ç»Ÿè®¡"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-base-content/60",children:"å¯ç”¨"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-sm toggle-primary",checked:u?.umami?.enable||!1,onChange:e=>O("umami.enable",e.target.checked)})]})]}),u?.umami?.enable&&e.jsxs("div",{className:"card bg-base-100 shadow-sm border border-base-200 p-6 rounded-2xl space-y-4",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Base URL"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"https://cloud.umami.is",value:u?.umami?.baseUrl||"",onChange:e=>O("umami.baseUrl",e.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Website ID"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.umami?.websiteId||"",onChange:e=>O("umami.websiteId",e.target.value)})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-xs text-base-content/60",children:"Share ID"})}),e.jsx("input",{type:"text",className:"input input-bordered w-full bg-base-100 focus:border-primary focus:ring-2 focus:ring-primary/20",value:u?.umami?.shareId||"",onChange:e=>O("umami.shareId",e.target.value)})]})]})]})]})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full flex-1 p-12 text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-base-200 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-4xl",children:"ğŸ”’"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-bold",children:"éœ€è¦èº«ä»½éªŒè¯"}),e.jsx("p",{className:"text-base-content/60",children:"è¯·å¯¼å…¥æ‚¨çš„ç§é’¥ä»¥å¼€å§‹ç¼–è¾‘é…ç½®"})]}),e.jsx("button",{onClick:L,className:"btn btn-primary btn-wide shadow-lg shadow-primary/20",children:"å¯¼å…¥å¯†é’¥ (.pem)"})]})]})]})}export{Ie as ConfigPage};